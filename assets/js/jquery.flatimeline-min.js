(function(e){e.fn.flaTimeline=function(t){function r(e){if(e.hasClass("open")){p();e.stop().removeClass("open");e.find(".contentWrapper .content .text").stop().slideToggle({duration:u,easing:a,start:f,done:d,complete:l})}else{c();e.stop().addClass("open");e.find(".contentWrapper .content .text").stop().slideToggle({duration:u,easing:a,start:f,done:h,complete:l})}}function i(){var e=$timeline.parent();var t=e.width();if(t<=650){$timeline.addClass("mobile")}else{$timeline.removeClass("mobile")}}function s(e,t){e=e.replace(/^\s*#|\s*$/g,"");if(e.length==3){e=e.replace(/(.)/g,"$1$1")}e="#"+e;var n=parseInt(e.substring(1,3),16);var r=parseInt(e.substring(3,5),16);var i=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100);r=parseInt(r*(100+t)/100);i=parseInt(i*(100+t)/100);n=n<255?n:255;r=r<255?r:255;i=i<255?i:255;var s=n.toString(16).length==1?"0"+n.toString(16):n.toString(16);var o=r.toString(16).length==1?"0"+r.toString(16):r.toString(16);var u=i.toString(16).length==1?"0"+i.toString(16):i.toString(16);return"#"+s+o+u}$timeline=e(this);$events=$timeline.find("li.event");$timeline.find("li.event .content").wrap('<div class="contentWrapper"></div>');$timeline.find("li.event .contentWrapper").prepend('<div class="circle"></div>');var n=e.extend({toggle:true,toggleSpeed:300,toggleEasing:"swing",color:"#999",borderRadius:"0px",onStart:function(){},onComplete:function(){},onOpeningStart:function(){},onOpeningComplete:function(){},onClosingStart:function(){},onClosingComplete:function(){}},t);if(n.toggle){if(n.toggle==false){var o=false}else{var o=true}}if(n.toggleSpeed){var u=n.toggleSpeed}if(n.toggleEasing){var a=n.toggleEasing}if(n.onStart){var f=n.onStart}if(n.onComplete){var l=n.onComplete}if(n.onOpeningStart){var c=n.onOpeningStart}if(n.onOpeningComplete){var h=n.onOpeningComplete}if(n.onClosingStart){var p=n.onClosingStart}if(n.onClosingComplete){var d=n.onClosingComplete}if(n.color){var v=n.color}if(n.borderRadius){var m=n.borderRadius}if(o){$events.click(function(){$event=e(this);r($event)})}setInterval(function(){i()},20);var g=s(v,-20);$events.find(".contentWrapper .content").css({background:v,"border-color":g,"border-radius":m})}})(jQuery)